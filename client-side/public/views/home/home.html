<!--MENU PARA ADMIN VER OS USUARIOS PROFISSIONAIS-->
<div class="container" ng-show="nivelProfissional==1">
    <div class="row">
        <div class="cols-sm-3" >
            <button type="button" class="btn btn-primary btn-sm" ng-click="mostrarStatus()">
                <span class="glyphicon glyphicon-qrcode"></span> Mostrar apenas {{status}}</button>
        </div>
    </div>
    <div class="table-responsive">
        <table class="table">
            <thead>
            <tr>
                <th>Profissional</th>
                <th>Ações</th>
                <th> <input type="search" ng-model="q" placeholder="Filtrar {{nomeUtilizador}}" aria-label="filter friends" /></th>
                <th><button type="button" class="btn btn-primary btn-sm" ng-click="adicionarNovo()">
                    <span class="glyphicon glyphicon-plus-sign"></span> Criar Novo</button></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="pessoa in pessoas | orderBy:'name' | filter:q as results" ng-if="pessoa.Ativo==1" ng-show="flagStatus==false">
                <td>{{pessoa.nome}} {{pessoa.sobrenome}}</td>
                <td>
                    <button type="button" class="btn btn-primary btn-sm" ng-click="gerarQrCode($event,pessoa.id,pessoa.qrkey)">
                        <span class="glyphicon glyphicon-qrcode"></span> Gerar QR-Code</button>
                    <button type="button" class="btn btn-primary btn-sm" ng-click="editar(pessoa.id)">
                        <span class="glyphicon glyphicon-pencil"></span> Alterar Dados</button>
                    <button type="button" class="btn btn-primary btn-sm" ng-click="showDesativar(pessoa.id,$event)"> <span class="glyphicon glyphicon-trash"></span> Desativar Usuário</button>
                </td>
            </tr>
            <tr ng-repeat="pessoa in pessoas | orderBy:'name' | filter:q as results" ng-if="pessoa.Ativo==0" ng-show="flagStatus==true">
                <td>{{pessoa.nome}} {{pessoa.sobrenome}}</td>
                <td>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary btn-sm" ng-click="visualizar(pessoa.id)">
                            <span class="glyphicon glyphicon-eye-open"></span> Visualizar</button>
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary dropdown-toggle btn-sm" data-toggle="dropdown">
                                <span class="glyphicon glyphicon-pencil"></span> Criar Ficha <span class="caret"></span></button>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#/eventoSignificantes">Diurno</a></li>
                                <li><a href="#">Noturno</a></li>
                            </ul>
                        </div>
                        <button type="button" class="btn btn-primary btn-sm"> <span class="glyphicon glyphicon-check"></span> Encerrar Paciente</button>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary btn-sm" ng-click="showReativar(pessoa.id,$event)"> <span class="glyphicon glyphicon-trash"></span> Reativar Usuário</button>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<!--MENU PARA ADMIN VER OS USUARIOS PROFISSIONAIS-->

<!--MENU PARA OS PROFISSIONAIS VER OS PACIENTES-->
<div class="container" ng-show="nivelProfissional!==1">
    <div class="table-responsive">
        <table class="table">
            <thead>
            <tr>
                <th>Paciente</th>
                <th>Responsável</th>
                <th>Ações</th>
                <th> <input type="search" ng-model="q" placeholder="Filtrar {{nomeUtilizador}}" aria-label="filter friends" /></th>
                <th><button type="button" class="btn btn-primary btn-sm" ng-click="adicionarNovo()">
                    <span class="glyphicon glyphicon-plus-sign"></span> Criar Novo</button></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="pessoa in pessoas | orderBy:'name' | filter:q as results" ng-if="pessoa.internado==1">
                <td>{{pessoa.nome}} {{pessoa.sobrenome}}</td>
                <td>{{pessoa.nomeMedico}} {{pessoa.sobrenomeMedico}}</td>
                <td>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary btn-sm" ng-click="visualizarPaciente(pessoa.id)">
                            <span class="glyphicon glyphicon-eye-open"></span> Visualizar</button>
                        <button type="button" class="btn btn-primary btn-sm" ng-click="dispositivos(pessoa.id)">
                            <span class="glyphicon glyphicon-eye-open"></span> Dispositivos</button>
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary dropdown-toggle btn-sm" data-toggle="dropdown">
                                <span class="glyphicon glyphicon-pencil"></span> Criar Ficha <span class="caret"></span></button>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href ng-click="criarFichaDiurno(pessoa.id)">Diurno</a></li>
                                <li><a href="#">Noturno</a></li>
                            </ul>
                        </div>
                        <button type="button" class="btn btn-primary btn-sm"> <span class="glyphicon glyphicon-check"></span> Encerrar Paciente</button>
                    </div>
                </td>
            </tr>
            <tr ng-repeat="pessoa in pessoas | orderBy:'name' | filter:q as results" ng-if="pessoa.internado==0" ng-show="flagStatus==true">
                <td>{{pessoa.nome}} {{pessoa.sobrenome}}</td>
                <td>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary btn-sm" ng-click="visualizar(pessoa.age)">
                            <span class="glyphicon glyphicon-eye-open"></span> Visualizar</button>
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary dropdown-toggle btn-sm" data-toggle="dropdown">
                                <span class="glyphicon glyphicon-pencil"></span> Criar Ficha <span class="caret"></span></button>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#/eventoSignificantes">Diurno</a></li>
                                <li><a href="#">Noturno</a></li>
                            </ul>
                        </div>
                        <button type="button" class="btn btn-primary btn-sm"> <span class="glyphicon glyphicon-check"></span> Encerrar Paciente</button>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary btn-sm" ng-click="showReativar(pessoa.id,$event)"> <span class="glyphicon glyphicon-trash"></span> Reativar Usuário</button>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<!--MENU PARA OS PROFISSIONAIS VER OS PACIENTES-->


<!--
Estes códigos são só para testes, correto seria abrir em uma nova janela!
-->
<table align="center" ng-show="nivelProfissional==1">
    <tr >
        <th><p align="center"> QR CODE IMAGEM </p></th>
    </tr>
    <tr>
        <td><div align="center" ng-bind-html="trustedHtml"></div></td>
    </tr>
    <tr>
        <td>
            <div align="center">
                <button  align = "center" type="button" class="btn btn-primary btn-sm" ng-click="imprimir()">
                    <span align = "center" class="glyphicon glyphicon-print"></span> Imprimir</button>
            </div>
        </td>
    </tr>
</table>
